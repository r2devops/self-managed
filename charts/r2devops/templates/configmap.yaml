{{- if .Values.customCertificateAuthority.certificates }}
---
apiVersion: v1
kind: ConfigMap
metadata:
  {{- with .Values.additionalAnnotations }}
  annotations:
    {{- range $key, $val := . }}
    {{ $key }}: {{ $val | quote }}
    {{- end }}
  {{- end }}
  {{- with .Values.additionalLabels }}
  labels:
    {{- range $key, $val := . }}
    {{ $key }}: {{ $val | quote }}
    {{- end }}
  {{- end }}
  name: {{ .Values.customCertificateAuthority.configMapName | default "r2devops-ca-certificates" }}
data:
  {{- range .Values.customCertificateAuthority.certificates }}
  {{ .name }}: {{ .value | quote }}
  {{- end }}
{{- end }}
